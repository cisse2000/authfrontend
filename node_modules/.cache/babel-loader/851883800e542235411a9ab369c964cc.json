{"ast":null,"code":"import ApiService from '@/services/ClientApiService';\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      valid: true,\n      user: {\n        uid: this.$route.params.uid,\n        token: this.$route.params.token,\n        new_password: '',\n        new_passwordRules: [v => !!v || \"Le mot de passe est requis\", v => v && v.length <= 8 || \"Le mot de passe doit être moins de 8 caractères.\"],\n        re_new_password: ''\n      },\n      alert: {\n        type: 'error',\n        state: false,\n        message: ''\n      }\n    };\n  },\n\n  methods: {\n    reset() {\n      this.$store.commit('setIsLoading', true);\n      let axiosApi = new ApiService();\n      axiosApi.add('/users/reset_password_confirm/', this.user).then(response => {\n        console.log(\"Le mot de passe à bien été modifié\", response.data);\n        this.$router.push({\n          name: 'login'\n        });\n      }).catch(error => {\n        console.log(\"Erreur de modification de mot passe\", error.data);\n      });\n      this.$store.commit('setIsLoading', false);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsDA;AACA;EACAA,aADA;;EAEAC;IACA;MACAC,WADA;MAEAC;QAEAC,2BAFA;QAGAC,+BAHA;QAKAC,gBALA;QAMAC,oBACAC,wCADA,EAEAA,6EAFA,CANA;QAUAC;MAVA,CAFA;MAgBAC;QACAC,aADA;QAEAC,YAFA;QAGAC;MAHA;IAhBA;EAsBA,CAzBA;;EA0BAC;IACAC;MAEA;MAEA;MACAC,0DACAC,IADA,CACAC;QACAC;QACA;UAAAnB;QAAA;MACA,CAJA,EAIAoB,KAJA,CAIAC;QACAF;MACA,CANA;MASA;IACA;;EAhBA;AA1BA","names":["name","data","valid","user","uid","token","new_password","new_passwordRules","v","re_new_password","alert","type","state","message","methods","reset","axiosApi","then","response","console","catch","error"],"sourceRoot":"src/views/user","sources":["ResetPasswordConfirm.vue"],"sourcesContent":["<template>\n    <div id=\"login\">\n        <v-container>\n            <v-row class=\"d-flex justify-center\">\n                <v-col cols=\"12\" md=\"6\" lg=\"5\">\n                <v-card class=\"pa-6\">\n                    <h2 class=\"text-center\">Nouveau mot de passe</h2>\n                    \n                    <template>\n                    <v-form\n                        ref=\"form\"\n                        v-model=\"valid\"\n                        lazy-validation\n                    >\n                        <v-text-field\n                        v-model=\"user.new_password\"\n                        :rules=\"user.new_passwordRules\"\n                        :counter=\"50\"\n                        label=\"Nonveau mot de passe\"\n                        required\n                        type=\"password\"\n                        ></v-text-field>\n\n                        <v-text-field\n                        v-model=\"user.re_new_password\"\n                        :rules=\"user.re_new_passwordRules\"\n                        :counter=\"8\"\n                        label=\"Confirmation\"\n                        required\n                        type=\"password\"\n                        ></v-text-field>\n\n\n\n                        <v-btn\n                        :disabled=\"!valid\"\n                        color=\"success\"\n                        class=\"mr-4\"\n                        @click=\"reset\"\n                        >\n                        Réinitialiser\n                        </v-btn>\n\n                    </v-form>\n                \n                    </template>\n                </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport ApiService from '@/services/ClientApiService'\n    export default {\n        name: 'Login',\n        data(){\n            return{\n                valid: true,\n                user: {\n                \n                    uid: this.$route.params.uid,\n                    token: this.$route.params.token,\n                    \n                    new_password: '',\n                    new_passwordRules: [\n                        v => !!v || \"Le mot de passe est requis\",\n                        v => (v && v.length <= 8) || \"Le mot de passe doit être moins de 8 caractères.\",\n                    ],\n                    re_new_password: '',\n                    \n                },\n                \n                alert: {\n                    type: 'error',\n                    state: false,\n                    message: ''\n                }\n            }\n        },\n        methods:{\n            reset(){\n                \n                this.$store.commit('setIsLoading', true)\n\n                let axiosApi = new ApiService();\n                axiosApi.add('/users/reset_password_confirm/', this.user)\n                .then(response => {\n                    console.log(\"Le mot de passe à bien été modifié\", response.data)\n                    this.$router.push({name: 'login'})\n                }).catch(error => {\n                    console.log(\"Erreur de modification de mot passe\", error.data)\n                })\n                \n\n                this.$store.commit('setIsLoading', false)\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}