{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport LoginView from '../views/user/LoginView';\nimport RegisterView from '../views/user/RegisterView';\nimport UserProfile from '../views/user/ProfileView';\nimport LogoutView from '../views/user/LogoutView';\nimport RequestPasswordReset from '../views/user/RequestPasswordReset';\nimport ResetPasswordConfirm from '../views/user/ResetPasswordConfirm';\nimport UserResendActivationEmail from '../views/user/UserResendActivationEmail';\nimport ActivateAccount from '../views/user/ActivateAccount';\nimport UploadFile from '../views/files/UploadFileView';\nimport EditFile from '../views/files/EditFileView';\nimport ListFileView from '../views/files/ListFileView';\nimport AllUsers from '../views/user/AllUsers'; // Pour les posts\n\nimport Posts from '../views/posts/Posts';\nimport AddPost from '../views/posts/AddPost';\nimport EditPost from '../views/posts/EditPost';\nimport Post from '../views/posts/Post';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/user/login',\n  name: 'login',\n  component: LoginView\n}, {\n  path: '/user/logout',\n  name: 'logout',\n  component: LogoutView\n}, {\n  path: '/user/user_resend_activation',\n  name: 'user_resend_activation',\n  component: UserResendActivationEmail\n}, //Activation de compte\n{\n  path: '/activate/:uid/:token',\n  name: 'activate_acount',\n  component: ActivateAccount\n}, {\n  path: '/user/reset_password',\n  name: 'reset_password',\n  component: RequestPasswordReset\n}, {\n  path: '/password/reset/confirm/:uid/:token',\n  name: 'reset_password_confirm',\n  component: ResetPasswordConfirm\n}, {\n  path: '/user/:user/profile',\n  name: 'profile',\n  component: UserProfile,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/:user/profile/users',\n  name: 'all_users',\n  component: AllUsers,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/:user/addfile',\n  name: 'addFile',\n  component: UploadFile,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/:user/:id/editfile',\n  name: 'editFile',\n  component: EditFile,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/:user/files',\n  name: 'listFile',\n  component: ListFileView,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/register',\n  name: 'register',\n  component: RegisterView\n}, //Debut Pour les posts\n{\n  path: '/user/:user/posts',\n  name: 'posts',\n  component: Posts,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/:user/add/post',\n  name: 'addPost',\n  component: AddPost,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/:user/post/:id/edit',\n  name: 'editPost',\n  component: EditPost,\n  meta: {\n    requiresLogin: true\n  }\n}, {\n  path: '/user/:user/post/:id',\n  name: 'showPost',\n  component: Post,\n  meta: {\n    requiresLogin: true\n  }\n}, //Fin pour les posts\n{\n  path: '/about',\n  name: 'about',\n  // route level code-splitting\n  // this generates a separate chunk (about.[hash].js) for this route\n  // which is lazy-loaded when the route is visited.\n  component: () => import(\n  /* webpackChunkName: \"about\" */\n  '../views/AboutView.vue')\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n}); //La sécurisation des routes\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresLogin) && !localStorage.getItem('accessToken')) {\n    next({\n      name: 'login'\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","HomeView","LoginView","RegisterView","UserProfile","LogoutView","RequestPasswordReset","ResetPasswordConfirm","UserResendActivationEmail","ActivateAccount","UploadFile","EditFile","ListFileView","AllUsers","Posts","AddPost","EditPost","Post","use","routes","path","name","component","meta","requiresLogin","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","localStorage","getItem"],"sources":["/home/oumar/projets/auth/frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport LoginView from '../views/user/LoginView'\nimport RegisterView from '../views/user/RegisterView'\nimport UserProfile from '../views/user/ProfileView'\nimport LogoutView from '../views/user/LogoutView'\nimport RequestPasswordReset from '../views/user/RequestPasswordReset'\nimport ResetPasswordConfirm from '../views/user/ResetPasswordConfirm'\nimport UserResendActivationEmail from '../views/user/UserResendActivationEmail'\nimport ActivateAccount from '../views/user/ActivateAccount'\nimport UploadFile from '../views/files/UploadFileView'\nimport EditFile from '../views/files/EditFileView'\nimport ListFileView from '../views/files/ListFileView'\nimport AllUsers from '../views/user/AllUsers'\n\n// Pour les posts\nimport Posts from '../views/posts/Posts'\nimport AddPost from '../views/posts/AddPost'\nimport EditPost from '../views/posts/EditPost'\nimport Post from '../views/posts/Post'\n\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  \n  {\n    path: '/user/login',\n    name: 'login',\n    component: LoginView,\n  \n  },\n  {\n    path: '/user/logout',\n    name: 'logout',\n    component: LogoutView,\n  \n  },\n\n  {\n    path: '/user/user_resend_activation',\n    name: 'user_resend_activation',\n    component: UserResendActivationEmail,\n  \n  },\n\n  //Activation de compte\n  {\n    path: '/activate/:uid/:token',\n    name: 'activate_acount',\n    component: ActivateAccount,\n  \n  },\n\n  {\n    path: '/user/reset_password',\n    name: 'reset_password',\n    component: RequestPasswordReset,\n  \n  },\n\n  {\n    path: '/password/reset/confirm/:uid/:token',\n    name: 'reset_password_confirm',\n    component: ResetPasswordConfirm,\n  \n  },\n\n  {\n    path: '/user/:user/profile',\n    name: 'profile',\n    component: UserProfile,\n    meta: {\n      requiresLogin: true\n    }\n  \n  },\n\n  {\n    path: '/user/:user/profile/users',\n    name: 'all_users',\n    component: AllUsers,\n    meta: {\n      requiresLogin: true\n    }\n  \n  },\n\n  {\n    path: '/user/:user/addfile',\n    name: 'addFile',\n    component: UploadFile,\n    meta: {\n      requiresLogin: true\n    }\n  \n  },\n\n  {\n    path: '/user/:user/:id/editfile',\n    name: 'editFile',\n    component: EditFile,\n    meta: {\n      requiresLogin: true\n    }\n  \n  },\n\n  {\n    path: '/user/:user/files',\n    name: 'listFile',\n    component: ListFileView,\n    meta: {\n      requiresLogin: true\n    }\n  \n  },\n\n  {\n    path: '/user/register',\n    name: 'register',\n    component: RegisterView,\n  \n  },\n\n  //Debut Pour les posts\n\n  {\n    path: '/user/:user/posts',\n    name: 'posts',\n    component: Posts,\n    meta: {\n      requiresLogin: true\n    }\n  },\n\n  {\n      path: '/user/:user/add/post',\n      name: 'addPost',\n      component: AddPost,\n      meta: {\n        requiresLogin: true\n      },\n  },\n\n  {\n    path: '/user/:user/post/:id/edit',\n    name: 'editPost',\n    component: EditPost,\n    meta: {\n      requiresLogin: true\n    }\n\n  },\n\n  {\n    path: '/user/:user/post/:id',\n    name: 'showPost',\n    component: Post,\n    meta: {\n      requiresLogin: true\n    }\n\n  },\n\n  //Fin pour les posts\n  \n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n//La sécurisation des routes\nrouter.beforeEach((to, from, next) => {\n  \n  if(to.matched.some(record => record.meta.requiresLogin) && !localStorage.getItem('accessToken')){\n    next({name: 'login'})\n    \n  } else {\n    next()\n  }\n})\n  \n\n\n\n\nexport default router\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}