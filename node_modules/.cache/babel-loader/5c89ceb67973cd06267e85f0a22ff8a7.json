{"ast":null,"code":"import ApiService from '@/services/ClientApiService';\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      valid: true,\n      user: {\n        email: '',\n        emailRules: [v => !!v || \"Nom d'utilisateur est requis\", v => v && v.length <= 50 || \"Nom d'utilisateur doit être moins de 50 caractères.\"]\n      },\n      alert: {\n        type: 'error',\n        state: false,\n        message: ''\n      }\n    };\n  },\n\n  methods: {\n    reset() {\n      this.$store.commit('setIsLoading', true);\n      let axiosApi = new ApiService();\n      axiosApi.add('/users/reset_password/', this.user).then(response => {\n        console.log(\"Réquête de mot de passe envoyé\", response.data);\n        this.$router.push({\n          name: 'login'\n        });\n      }).catch(error => {\n        console.log(\"Erreur d'envoie de réquête\", error.data);\n      });\n      this.$store.commit('setIsLoading', false);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2CA;AACA;EACAA,aADA;;EAEAC;IACA;MACAC,WADA;MAEAC;QAEAC,SAFA;QAGAC,aACAC,0CADA,EAEAA,iFAFA;MAHA,CAFA;MAYAC;QACAC,aADA;QAEAC,YAFA;QAGAC;MAHA;IAZA;EAkBA,CArBA;;EAsBAC;IACAC;MACA;MAEA;MACAC,kDACAC,IADA,CACAC;QACAC;QACA;UAAAhB;QAAA;MACA,CAJA,EAIAiB,KAJA,CAIAC;QACAF;MACA,CANA;MASA;IACA;;EAfA;AAtBA","names":["name","data","valid","user","email","emailRules","v","alert","type","state","message","methods","reset","axiosApi","then","response","console","catch","error"],"sourceRoot":"src/views/user","sources":["RequestPasswordReset.vue"],"sourcesContent":["<template>\n    <div id=\"login\">\n        <v-container>\n            <v-row class=\"d-flex justify-center\">\n                <v-col cols=\"12\" md=\"6\" lg=\"5\">\n                <v-card class=\"pa-6\">\n                    <h2 class=\"text-center\">Réinitialisation de mot de passe</h2>\n                    <template>\n                    <v-form\n                        ref=\"form\"\n                        v-model=\"valid\"\n                        lazy-validation\n                    >\n                        <v-text-field\n                        v-model=\"user.email\"\n                        :rules=\"user.emailRules\"\n                        :counter=\"50\"\n                        label=\"Nom d'utilisateur\"\n                        required\n                        ></v-text-field>\n\n\n\n                        <v-btn\n                        :disabled=\"!valid\"\n                        color=\"success\"\n                        class=\"mr-4\"\n                        @click=\"reset\"\n                        >\n                        Réinitialiser le mot de passe\n                        </v-btn>\n\n                    </v-form>\n                \n                    </template>\n                </v-card>\n                </v-col>\n            </v-row>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport ApiService from '@/services/ClientApiService'\n    export default {\n        name: 'Login',\n        data(){\n            return{\n                valid: true,\n                user: {\n                \n                    email: '',\n                    emailRules: [\n                        v => !!v || \"Nom d'utilisateur est requis\",\n                        v => (v && v.length <= 50) || \"Nom d'utilisateur doit être moins de 50 caractères.\",\n                    ],\n                    \n                },\n                \n                alert: {\n                    type: 'error',\n                    state: false,\n                    message: ''\n                }\n            }\n        },\n        methods:{\n            reset(){\n                this.$store.commit('setIsLoading', true)\n\n                let axiosApi = new ApiService();\n                axiosApi.add('/users/reset_password/', this.user)\n                .then(response => {\n                    console.log(\"Réquête de mot de passe envoyé\", response.data)\n                    this.$router.push({name: 'login'})\n                }).catch(error => {\n                    console.log(\"Erreur d'envoie de réquête\", error.data)\n                })\n                \n\n                this.$store.commit('setIsLoading', false)\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}